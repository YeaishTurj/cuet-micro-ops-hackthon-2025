var hn=Object.defineProperty;var fn=(s,e,_)=>e in s?hn(s,e,{enumerable:!0,configurable:!0,writable:!0,value:_}):s[e]=_;var L=(s,e,_)=>fn(s,typeof e!="symbol"?e+"":e,_);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))E(g);new MutationObserver(g=>{for(const B of g)if(B.type==="childList")for(const ee of B.addedNodes)ee.tagName==="LINK"&&ee.rel==="modulepreload"&&E(ee)}).observe(document,{childList:!0,subtree:!0});function _(g){const B={};return g.integrity&&(B.integrity=g.integrity),g.referrerPolicy&&(B.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?B.credentials="include":g.crossOrigin==="anonymous"?B.credentials="omit":B.credentials="same-origin",B}function E(g){if(g.ep)return;g.ep=!0;const B=_(g);fetch(g.href,B)}})();const je="8.55.0",ke=globalThis;function ot(s,e,_){const E=ke,g=E.__SENTRY__=E.__SENTRY__||{},B=g[je]=g[je]||{};return B[s]||(B[s]=e())}const Ht=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,dn="Sentry Logger ",Nt=["debug","info","warn","error","log","assert","trace"],Ot={};function _n(s){if(!("console"in ke))return s();const e=ke.console,_={},E=Object.keys(Ot);E.forEach(g=>{const B=Ot[g];_[g]=e[g],e[g]=B});try{return s()}finally{E.forEach(g=>{e[g]=_[g]})}}function pn(){let s=!1;const e={enable:()=>{s=!0},disable:()=>{s=!1},isEnabled:()=>s};return Ht?Nt.forEach(_=>{e[_]=(...E)=>{s&&_n(()=>{ke.console[_](`${dn}[${_}]:`,...E)})}}):Nt.forEach(_=>{e[_]=()=>{}}),e}const Ge=ot("logger",pn);function qt(){return it(ke),ke}function it(s){const e=s.__SENTRY__=s.__SENTRY__||{};return e.version=e.version||je,e[je]=e[je]||{}}const gn=Object.prototype.toString;function mn(s,e){return gn.call(s)===`[object ${e}]`}function En(s){return mn(s,"Object")}function yn(s){return!!(s&&s.then&&typeof s.then=="function")}function Tn(s,e,_){try{Object.defineProperty(s,e,{value:_,writable:!0,configurable:!0})}catch{Ht&&Ge.log(`Failed to add non-enumerable property "${e}" to object`,s)}}const Bt=1e3;function Ft(){return Date.now()/Bt}function kn(){const{performance:s}=ke;if(!s||!s.now)return Ft;const e=Date.now()-s.now(),_=s.timeOrigin==null?e:s.timeOrigin;return()=>(_+s.now())/Bt}const vn=kn();(()=>{const{performance:s}=ke;if(!s||!s.now)return;const e=3600*1e3,_=s.now(),E=Date.now(),g=s.timeOrigin?Math.abs(s.timeOrigin+_-E):e,B=g<e,ee=s.timing&&s.timing.navigationStart,Ce=typeof ee=="number"?Math.abs(ee+_-E):e,ve=Ce<e;return B||ve?g<=Ce?s.timeOrigin:ee:E})();function Oe(){const s=ke,e=s.crypto||s.msCrypto;let _=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(_=()=>{const E=new Uint8Array(1);return e.getRandomValues(E),E[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,E=>(E^(_()&15)>>E/4).toString(16))}function Sn(s,e={}){if(e.user&&(!s.ipAddress&&e.user.ip_address&&(s.ipAddress=e.user.ip_address),!s.did&&!e.did&&(s.did=e.user.id||e.user.email||e.user.username)),s.timestamp=e.timestamp||vn(),e.abnormal_mechanism&&(s.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(s.ignoreDuration=e.ignoreDuration),e.sid&&(s.sid=e.sid.length===32?e.sid:Oe()),e.init!==void 0&&(s.init=e.init),!s.did&&e.did&&(s.did=`${e.did}`),typeof e.started=="number"&&(s.started=e.started),s.ignoreDuration)s.duration=void 0;else if(typeof e.duration=="number")s.duration=e.duration;else{const _=s.timestamp-s.started;s.duration=_>=0?_:0}e.release&&(s.release=e.release),e.environment&&(s.environment=e.environment),!s.ipAddress&&e.ipAddress&&(s.ipAddress=e.ipAddress),!s.userAgent&&e.userAgent&&(s.userAgent=e.userAgent),typeof e.errors=="number"&&(s.errors=e.errors),e.status&&(s.status=e.status)}function Lt(){return Oe()}function It(){return Oe().substring(16)}function Ut(s,e,_=2){if(!e||typeof e!="object"||_<=0)return e;if(s&&e&&Object.keys(e).length===0)return s;const E={...s};for(const g in e)Object.prototype.hasOwnProperty.call(e,g)&&(E[g]=Ut(E[g],e[g],_-1));return E}const st="_sentrySpan";function Mt(s,e){e?Tn(s,st,e):delete s[st]}function At(s){return s[st]}const bn=100;class ct{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Lt(),spanId:It()}}clone(){const e=new ct;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,Mt(e,At(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Sn(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,_){return this._tags={...this._tags,[e]:_},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,_){return this._extra={...this._extra,[e]:_},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,_){return _===null?delete this._contexts[e]:this._contexts[e]=_,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const _=typeof e=="function"?e(this):e,[E,g]=_ instanceof xe?[_.getScopeData(),_.getRequestSession()]:En(_)?[e,e.requestSession]:[],{tags:B,extra:ee,user:we,contexts:Ce,level:ve,fingerprint:Pe=[],propagationContext:De}=E||{};return this._tags={...this._tags,...B},this._extra={...this._extra,...ee},this._contexts={...this._contexts,...Ce},we&&Object.keys(we).length&&(this._user=we),ve&&(this._level=ve),Pe.length&&(this._fingerprint=Pe),De&&(this._propagationContext=De),g&&(this._requestSession=g),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Mt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Lt()}),this._notifyScopeListeners(),this}addBreadcrumb(e,_){const E=typeof _=="number"?_:bn;if(E<=0)return this;const g={timestamp:Ft(),...e};return this._breadcrumbs.push(g),this._breadcrumbs.length>E&&(this._breadcrumbs=this._breadcrumbs.slice(-E),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:At(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Ut(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:It(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,_){const E=_&&_.event_id?_.event_id:Oe();if(!this._client)return Ge.warn("No client configured on scope - will not capture exception!"),E;const g=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:g,..._,event_id:E},this),E}captureMessage(e,_,E){const g=E&&E.event_id?E.event_id:Oe();if(!this._client)return Ge.warn("No client configured on scope - will not capture message!"),g;const B=new Error(e);return this._client.captureMessage(e,_,{originalException:e,syntheticException:B,...E,event_id:g},this),g}captureEvent(e,_){const E=_&&_.event_id?_.event_id:Oe();return this._client?(this._client.captureEvent(e,{..._,event_id:E},this),E):(Ge.warn("No client configured on scope - will not capture event!"),E)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const xe=ct;function wn(){return ot("defaultCurrentScope",()=>new xe)}function Cn(){return ot("defaultIsolationScope",()=>new xe)}class Pn{constructor(e,_){let E;e?E=e:E=new xe;let g;_?g=_:g=new xe,this._stack=[{scope:E}],this._isolationScope=g}withScope(e){const _=this._pushScope();let E;try{E=e(_)}catch(g){throw this._popScope(),g}return yn(E)?E.then(g=>(this._popScope(),g),g=>{throw this._popScope(),g}):(this._popScope(),E)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Le(){const s=qt(),e=it(s);return e.stack=e.stack||new Pn(wn(),Cn())}function Dn(s){return Le().withScope(s)}function Rn(s,e){const _=Le();return _.withScope(()=>(_.getStackTop().scope=s,e(s)))}function Zt(s){return Le().withScope(()=>s(Le().getIsolationScope()))}function Nn(){return{withIsolationScope:Zt,withScope:Dn,withSetScope:Rn,withSetIsolationScope:(s,e)=>Zt(e),getCurrentScope:()=>Le().getScope(),getIsolationScope:()=>Le().getIsolationScope()}}function On(s){const e=it(s);return e.acs?e.acs:Nn()}function Ln(){const s=qt();return On(s).getCurrentScope()}function ze(s,e){return Ln().captureException(s,void 0)}var jt={},xt;function In(){if(xt)return jt;xt=1;/**
 * @license Angular v<unknown>
 * (c) 2010-2025 Google LLC. https://angular.io/
 * License: MIT
 */const s=globalThis;function e(t){return(s.__Zone_symbol_prefix||"__zone_symbol__")+t}function _(){const t=s.performance;function r(V){t&&t.mark&&t.mark(V)}function u(V,a){t&&t.measure&&t.measure(V,a)}r("Zone");const se=class se{constructor(a,i){L(this,"_parent");L(this,"_name");L(this,"_properties");L(this,"_zoneDelegate");this._parent=a,this._name=i?i.name||"unnamed":"<root>",this._properties=i&&i.properties||{},this._zoneDelegate=new f(this,this._parent&&this._parent._zoneDelegate,i)}static assertZonePatched(){if(s.Promise!==Z.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let a=se.current;for(;a.parent;)a=a.parent;return a}static get current(){return D.zone}static get currentTask(){return M}static __load_patch(a,i,o=!1){if(Z.hasOwnProperty(a)){const w=s[e("forceDuplicateZoneCheck")]===!0;if(!o&&w)throw Error("Already loaded patch: "+a)}else if(!s["__Zone_disable_"+a]){const w="Zone:"+a;r(w),Z[a]=i(s,se,O),u(w,w)}}get parent(){return this._parent}get name(){return this._name}get(a){const i=this.getZoneWith(a);if(i)return i._properties[a]}getZoneWith(a){let i=this;for(;i;){if(i._properties.hasOwnProperty(a))return i;i=i._parent}return null}fork(a){if(!a)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,a)}wrap(a,i){if(typeof a!="function")throw new Error("Expecting function got: "+a);const o=this._zoneDelegate.intercept(this,a,i),w=this;return function(){return w.runGuarded(o,this,arguments,i)}}run(a,i,o,w){D={parent:D,zone:this};try{return this._zoneDelegate.invoke(this,a,i,o,w)}finally{D=D.parent}}runGuarded(a,i=null,o,w){D={parent:D,zone:this};try{try{return this._zoneDelegate.invoke(this,a,i,o,w)}catch(z){if(this._zoneDelegate.handleError(this,z))throw z}}finally{D=D.parent}}runTask(a,i,o){if(a.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(a.zone||ie).name+"; Execution: "+this.name+")");const w=a,{type:z,data:{isPeriodic:q=!1,isRefreshable:de=!1}={}}=a;if(a.state===te&&(z===K||z===S))return;const ye=a.state!=G;ye&&w._transitionTo(G,m);const Te=M;M=w,D={parent:D,zone:this};try{z==S&&a.data&&!q&&!de&&(a.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,w,i,o)}catch(he){if(this._zoneDelegate.handleError(this,he))throw he}}finally{const he=a.state;if(he!==te&&he!==ne)if(z==K||q||de&&he===C)ye&&w._transitionTo(m,G,C);else{const p=w._zoneDelegates;this._updateTaskCount(w,-1),ye&&w._transitionTo(te,G,te),de&&(w._zoneDelegates=p)}D=D.parent,M=Te}}scheduleTask(a){if(a.zone&&a.zone!==this){let o=this;for(;o;){if(o===a.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${a.zone.name}`);o=o.parent}}a._transitionTo(C,te);const i=[];a._zoneDelegates=i,a._zone=this;try{a=this._zoneDelegate.scheduleTask(this,a)}catch(o){throw a._transitionTo(ne,C,te),this._zoneDelegate.handleError(this,o),o}return a._zoneDelegates===i&&this._updateTaskCount(a,1),a.state==C&&a._transitionTo(m,C),a}scheduleMicroTask(a,i,o,w){return this.scheduleTask(new T(Y,a,i,o,w,void 0))}scheduleMacroTask(a,i,o,w,z){return this.scheduleTask(new T(S,a,i,o,w,z))}scheduleEventTask(a,i,o,w,z){return this.scheduleTask(new T(K,a,i,o,w,z))}cancelTask(a){if(a.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(a.zone||ie).name+"; Execution: "+this.name+")");if(!(a.state!==m&&a.state!==G)){a._transitionTo(W,m,G);try{this._zoneDelegate.cancelTask(this,a)}catch(i){throw a._transitionTo(ne,W),this._zoneDelegate.handleError(this,i),i}return this._updateTaskCount(a,-1),a._transitionTo(te,W),a.runCount=-1,a}}_updateTaskCount(a,i){const o=a._zoneDelegates;i==-1&&(a._zoneDelegates=null);for(let w=0;w<o.length;w++)o[w]._updateTaskCount(a.type,i)}};L(se,"__symbol__",e);let n=se;const l={name:"",onHasTask:(V,a,i,o)=>V.hasTask(i,o),onScheduleTask:(V,a,i,o)=>V.scheduleTask(i,o),onInvokeTask:(V,a,i,o,w,z)=>V.invokeTask(i,o,w,z),onCancelTask:(V,a,i,o)=>V.cancelTask(i,o)};class f{constructor(a,i,o){L(this,"_zone");L(this,"_taskCounts",{microTask:0,macroTask:0,eventTask:0});L(this,"_parentDelegate");L(this,"_forkDlgt");L(this,"_forkZS");L(this,"_forkCurrZone");L(this,"_interceptDlgt");L(this,"_interceptZS");L(this,"_interceptCurrZone");L(this,"_invokeDlgt");L(this,"_invokeZS");L(this,"_invokeCurrZone");L(this,"_handleErrorDlgt");L(this,"_handleErrorZS");L(this,"_handleErrorCurrZone");L(this,"_scheduleTaskDlgt");L(this,"_scheduleTaskZS");L(this,"_scheduleTaskCurrZone");L(this,"_invokeTaskDlgt");L(this,"_invokeTaskZS");L(this,"_invokeTaskCurrZone");L(this,"_cancelTaskDlgt");L(this,"_cancelTaskZS");L(this,"_cancelTaskCurrZone");L(this,"_hasTaskDlgt");L(this,"_hasTaskDlgtOwner");L(this,"_hasTaskZS");L(this,"_hasTaskCurrZone");this._zone=a,this._parentDelegate=i,this._forkZS=o&&(o&&o.onFork?o:i._forkZS),this._forkDlgt=o&&(o.onFork?i:i._forkDlgt),this._forkCurrZone=o&&(o.onFork?this._zone:i._forkCurrZone),this._interceptZS=o&&(o.onIntercept?o:i._interceptZS),this._interceptDlgt=o&&(o.onIntercept?i:i._interceptDlgt),this._interceptCurrZone=o&&(o.onIntercept?this._zone:i._interceptCurrZone),this._invokeZS=o&&(o.onInvoke?o:i._invokeZS),this._invokeDlgt=o&&(o.onInvoke?i:i._invokeDlgt),this._invokeCurrZone=o&&(o.onInvoke?this._zone:i._invokeCurrZone),this._handleErrorZS=o&&(o.onHandleError?o:i._handleErrorZS),this._handleErrorDlgt=o&&(o.onHandleError?i:i._handleErrorDlgt),this._handleErrorCurrZone=o&&(o.onHandleError?this._zone:i._handleErrorCurrZone),this._scheduleTaskZS=o&&(o.onScheduleTask?o:i._scheduleTaskZS),this._scheduleTaskDlgt=o&&(o.onScheduleTask?i:i._scheduleTaskDlgt),this._scheduleTaskCurrZone=o&&(o.onScheduleTask?this._zone:i._scheduleTaskCurrZone),this._invokeTaskZS=o&&(o.onInvokeTask?o:i._invokeTaskZS),this._invokeTaskDlgt=o&&(o.onInvokeTask?i:i._invokeTaskDlgt),this._invokeTaskCurrZone=o&&(o.onInvokeTask?this._zone:i._invokeTaskCurrZone),this._cancelTaskZS=o&&(o.onCancelTask?o:i._cancelTaskZS),this._cancelTaskDlgt=o&&(o.onCancelTask?i:i._cancelTaskDlgt),this._cancelTaskCurrZone=o&&(o.onCancelTask?this._zone:i._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const w=o&&o.onHasTask,z=i&&i._hasTaskZS;(w||z)&&(this._hasTaskZS=w?o:l,this._hasTaskDlgt=i,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,o.onScheduleTask||(this._scheduleTaskZS=l,this._scheduleTaskDlgt=i,this._scheduleTaskCurrZone=this._zone),o.onInvokeTask||(this._invokeTaskZS=l,this._invokeTaskDlgt=i,this._invokeTaskCurrZone=this._zone),o.onCancelTask||(this._cancelTaskZS=l,this._cancelTaskDlgt=i,this._cancelTaskCurrZone=this._zone))}get zone(){return this._zone}fork(a,i){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,a,i):new n(a,i)}intercept(a,i,o){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,a,i,o):i}invoke(a,i,o,w,z){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,a,i,o,w,z):i.apply(o,w)}handleError(a,i){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,a,i):!0}scheduleTask(a,i){let o=i;if(this._scheduleTaskZS)this._hasTaskZS&&o._zoneDelegates.push(this._hasTaskDlgtOwner),o=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,a,i),o||(o=i);else if(i.scheduleFn)i.scheduleFn(i);else if(i.type==Y)J(i);else throw new Error("Task is missing scheduleFn.");return o}invokeTask(a,i,o,w){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,a,i,o,w):i.callback.apply(o,w)}cancelTask(a,i){let o;if(this._cancelTaskZS)o=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,a,i);else{if(!i.cancelFn)throw Error("Task is not cancelable");o=i.cancelFn(i)}return o}hasTask(a,i){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,a,i)}catch(o){this.handleError(a,o)}}_updateTaskCount(a,i){const o=this._taskCounts,w=o[a],z=o[a]=w+i;if(z<0)throw new Error("More tasks executed then were scheduled.");if(w==0||z==0){const q={microTask:o.microTask>0,macroTask:o.macroTask>0,eventTask:o.eventTask>0,change:a};this.hasTask(this._zone,q)}}}class T{constructor(a,i,o,w,z,q){L(this,"type");L(this,"source");L(this,"invoke");L(this,"callback");L(this,"data");L(this,"scheduleFn");L(this,"cancelFn");L(this,"_zone",null);L(this,"runCount",0);L(this,"_zoneDelegates",null);L(this,"_state","notScheduled");if(this.type=a,this.source=i,this.data=w,this.scheduleFn=z,this.cancelFn=q,!o)throw new Error("callback is not defined");this.callback=o;const de=this;a===K&&w&&w.useG?this.invoke=T.invokeTask:this.invoke=function(){return T.invokeTask.call(s,de,this,arguments)}}static invokeTask(a,i,o){a||(a=this),ce++;try{return a.runCount++,a.zone.runTask(a,i,o)}finally{ce==1&&oe(),ce--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(te,C)}_transitionTo(a,i,o){if(this._state===i||this._state===o)this._state=a,a==te&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${a}', expecting state '${i}'${o?" or '"+o+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const v=e("setTimeout"),b=e("Promise"),I=e("then");let y=[],N=!1,A;function U(V){if(A||s[b]&&(A=s[b].resolve(0)),A){let a=A[I];a||(a=A.then),a.call(A,V)}else s[v](V,0)}function J(V){ce===0&&y.length===0&&U(oe),V&&y.push(V)}function oe(){if(!N){for(N=!0;y.length;){const V=y;y=[];for(let a=0;a<V.length;a++){const i=V[a];try{i.zone.runTask(i,null,null)}catch(o){O.onUnhandledError(o)}}}O.microtaskDrainDone(),N=!1}}const ie={name:"NO ZONE"},te="notScheduled",C="scheduling",m="scheduled",G="running",W="canceling",ne="unknown",Y="microTask",S="macroTask",K="eventTask",Z={},O={symbol:e,currentZoneFrame:()=>D,onUnhandledError:Q,microtaskDrainDone:Q,scheduleMicroTask:J,showUncaughtError:()=>!n[e("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Q,patchMethod:()=>Q,bindArguments:()=>[],patchThen:()=>Q,patchMacroTask:()=>Q,patchEventPrototype:()=>Q,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Q,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Q,wrapWithCurrentZone:()=>Q,filterProperties:()=>[],attachOriginToPatched:()=>Q,_redefineProperty:()=>Q,patchCallbacks:()=>Q,nativeScheduleMicroTask:U};let D={parent:null,zone:new n(null,null)},M=null,ce=0;function Q(){}return u("Zone","Zone"),n}function E(){const t=globalThis,r=t[e("forceDuplicateZoneCheck")]===!0;if(t.Zone&&(r||typeof t.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return t.Zone??(t.Zone=_()),t.Zone}const g=Object.getOwnPropertyDescriptor,B=Object.defineProperty,ee=Object.getPrototypeOf,we=Object.create,Ce=Array.prototype.slice,ve="addEventListener",Pe="removeEventListener",De=e(ve),Xe=e(Pe),pe="true",ge="false",Ie=e("");function $e(t,r){return Zone.current.wrap(t,r)}function Je(t,r,u,n,l){return Zone.current.scheduleMacroTask(t,r,u,n,l)}const F=e,He=typeof window<"u",Me=He?window:void 0,re=He&&Me||globalThis,Gt="removeAttribute";function Ke(t,r){for(let u=t.length-1;u>=0;u--)typeof t[u]=="function"&&(t[u]=$e(t[u],r+"_"+u));return t}function Vt(t,r){const u=t.constructor.name;for(let n=0;n<r.length;n++){const l=r[n],f=t[l];if(f){const T=g(t,l);if(!at(T))continue;t[l]=(v=>{const b=function(){return v.apply(this,Ke(arguments,u+"."+l))};return Ee(b,v),b})(f)}}}function at(t){return t?t.writable===!1?!1:!(typeof t.get=="function"&&typeof t.set>"u"):!0}const lt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,qe=!("nw"in re)&&typeof re.process<"u"&&re.process.toString()==="[object process]",Qe=!qe&&!lt&&!!(He&&Me.HTMLElement),ut=typeof re.process<"u"&&re.process.toString()==="[object process]"&&!lt&&!!(He&&Me.HTMLElement),Be={},zt=F("enable_beforeunload"),ht=function(t){if(t=t||re.event,!t)return;let r=Be[t.type];r||(r=Be[t.type]=F("ON_PROPERTY"+t.type));const u=this||t.target||re,n=u[r];let l;if(Qe&&u===Me&&t.type==="error"){const f=t;l=n&&n.call(this,f.message,f.filename,f.lineno,f.colno,f.error),l===!0&&t.preventDefault()}else l=n&&n.apply(this,arguments),t.type==="beforeunload"&&re[zt]&&typeof l=="string"?t.returnValue=l:l!=null&&!l&&t.preventDefault();return l};function ft(t,r,u){let n=g(t,r);if(!n&&u&&g(u,r)&&(n={enumerable:!0,configurable:!0}),!n||!n.configurable)return;const l=F("on"+r+"patched");if(t.hasOwnProperty(l)&&t[l])return;delete n.writable,delete n.value;const f=n.get,T=n.set,v=r.slice(2);let b=Be[v];b||(b=Be[v]=F("ON_PROPERTY"+v)),n.set=function(I){let y=this;if(!y&&t===re&&(y=re),!y)return;typeof y[b]=="function"&&y.removeEventListener(v,ht),T==null||T.call(y,null),y[b]=I,typeof I=="function"&&y.addEventListener(v,ht,!1)},n.get=function(){let I=this;if(!I&&t===re&&(I=re),!I)return null;const y=I[b];if(y)return y;if(f){let N=f.call(this);if(N)return n.set.call(this,N),typeof I[Gt]=="function"&&I.removeAttribute(r),N}return null},B(t,r,n),t[l]=!0}function dt(t,r,u){if(r)for(let n=0;n<r.length;n++)ft(t,"on"+r[n],u);else{const n=[];for(const l in t)l.slice(0,2)=="on"&&n.push(l);for(let l=0;l<n.length;l++)ft(t,n[l],u)}}const ue=F("originalInstance");function Ae(t){const r=re[t];if(!r)return;re[F(t)]=r,re[t]=function(){const l=Ke(arguments,t);switch(l.length){case 0:this[ue]=new r;break;case 1:this[ue]=new r(l[0]);break;case 2:this[ue]=new r(l[0],l[1]);break;case 3:this[ue]=new r(l[0],l[1],l[2]);break;case 4:this[ue]=new r(l[0],l[1],l[2],l[3]);break;default:throw new Error("Arg list too long.")}},Ee(re[t],r);const u=new r(function(){});let n;for(n in u)t==="XMLHttpRequest"&&n==="responseBlob"||(function(l){typeof u[l]=="function"?re[t].prototype[l]=function(){return this[ue][l].apply(this[ue],arguments)}:B(re[t].prototype,l,{set:function(f){typeof f=="function"?(this[ue][l]=$e(f,t+"."+l),Ee(this[ue][l],f)):this[ue][l]=f},get:function(){return this[ue][l]}})})(n);for(n in r)n!=="prototype"&&r.hasOwnProperty(n)&&(re[t][n]=r[n])}function me(t,r,u){let n=t;for(;n&&!n.hasOwnProperty(r);)n=ee(n);!n&&t[r]&&(n=t);const l=F(r);let f=null;if(n&&(!(f=n[l])||!n.hasOwnProperty(l))){f=n[l]=n[r];const T=n&&g(n,r);if(at(T)){const v=u(f,l,r);n[r]=function(){return v(this,arguments)},Ee(n[r],f)}}return f}function Wt(t,r,u){let n=null;function l(f){const T=f.data;return T.args[T.cbIdx]=function(){f.invoke.apply(this,arguments)},n.apply(T.target,T.args),f}n=me(t,r,f=>function(T,v){const b=u(T,v);return b.cbIdx>=0&&typeof v[b.cbIdx]=="function"?Je(b.name,v[b.cbIdx],b,l):f.apply(T,v)})}function Ee(t,r){t[F("OriginalDelegate")]=r}let _t=!1,et=!1;function Yt(){if(_t)return et;_t=!0;try{const t=Me.navigator.userAgent;(t.indexOf("MSIE ")!==-1||t.indexOf("Trident/")!==-1||t.indexOf("Edge/")!==-1)&&(et=!0)}catch{}return et}function pt(t){return typeof t=="function"}function gt(t){return typeof t=="number"}const Xt={useG:!0},ae={},mt={},Et=new RegExp("^"+Ie+"(\\w+)(true|false)$"),yt=F("propagationStopped");function Tt(t,r){const u=(r?r(t):t)+ge,n=(r?r(t):t)+pe,l=Ie+u,f=Ie+n;ae[t]={},ae[t][ge]=l,ae[t][pe]=f}function $t(t,r,u,n){const l=n&&n.add||ve,f=n&&n.rm||Pe,T=n&&n.listeners||"eventListeners",v=n&&n.rmAll||"removeAllListeners",b=F(l),I="."+l+":",y="prependListener",N="."+y+":",A=function(C,m,G){if(C.isRemoved)return;const W=C.callback;typeof W=="object"&&W.handleEvent&&(C.callback=S=>W.handleEvent(S),C.originalDelegate=W);let ne;try{C.invoke(C,m,[G])}catch(S){ne=S}const Y=C.options;if(Y&&typeof Y=="object"&&Y.once){const S=C.originalDelegate?C.originalDelegate:C.callback;m[f].call(m,G.type,S,Y)}return ne};function U(C,m,G){if(m=m||t.event,!m)return;const W=C||m.target||t,ne=W[ae[m.type][G?pe:ge]];if(ne){const Y=[];if(ne.length===1){const S=A(ne[0],W,m);S&&Y.push(S)}else{const S=ne.slice();for(let K=0;K<S.length&&!(m&&m[yt]===!0);K++){const Z=A(S[K],W,m);Z&&Y.push(Z)}}if(Y.length===1)throw Y[0];for(let S=0;S<Y.length;S++){const K=Y[S];r.nativeScheduleMicroTask(()=>{throw K})}}}const J=function(C){return U(this,C,!1)},oe=function(C){return U(this,C,!0)};function ie(C,m){if(!C)return!1;let G=!0;m&&m.useG!==void 0&&(G=m.useG);const W=m&&m.vh;let ne=!0;m&&m.chkDup!==void 0&&(ne=m.chkDup);let Y=!1;m&&m.rt!==void 0&&(Y=m.rt);let S=C;for(;S&&!S.hasOwnProperty(l);)S=ee(S);if(!S&&C[l]&&(S=C),!S||S[b])return!1;const K=m&&m.eventNameToString,Z={},O=S[b]=S[l],D=S[F(f)]=S[f],M=S[F(T)]=S[T],ce=S[F(v)]=S[v];let Q;m&&m.prepend&&(Q=S[F(m.prepend)]=S[m.prepend]);function se(c,d){return d?typeof c=="boolean"?{capture:c,passive:!0}:c?typeof c=="object"&&c.passive!==!1?{...c,passive:!0}:c:{passive:!0}:c}const V=function(c){if(!Z.isExisting)return O.call(Z.target,Z.eventName,Z.capture?oe:J,Z.options)},a=function(c){if(!c.isRemoved){const d=ae[c.eventName];let P;d&&(P=d[c.capture?pe:ge]);const R=P&&c.target[P];if(R){for(let k=0;k<R.length;k++)if(R[k]===c){R.splice(k,1),c.isRemoved=!0,c.removeAbortListener&&(c.removeAbortListener(),c.removeAbortListener=null),R.length===0&&(c.allRemoved=!0,c.target[P]=null);break}}}if(c.allRemoved)return D.call(c.target,c.eventName,c.capture?oe:J,c.options)},i=function(c){return O.call(Z.target,Z.eventName,c.invoke,Z.options)},o=function(c){return Q.call(Z.target,Z.eventName,c.invoke,Z.options)},w=function(c){return D.call(c.target,c.eventName,c.invoke,c.options)},z=G?V:i,q=G?a:w,de=function(c,d){const P=typeof d;return P==="function"&&c.callback===d||P==="object"&&c.originalDelegate===d},ye=(m==null?void 0:m.diff)||de,Te=Zone[F("UNPATCHED_EVENTS")],he=t[F("PASSIVE_EVENTS")];function p(c){if(typeof c=="object"&&c!==null){const d={...c};return c.signal&&(d.signal=c.signal),d}return c}const h=function(c,d,P,R,k=!1,j=!1){return function(){const x=this||t;let H=arguments[0];m&&m.transferEventName&&(H=m.transferEventName(H));let X=arguments[1];if(!X)return c.apply(this,arguments);if(qe&&H==="uncaughtException")return c.apply(this,arguments);let $=!1;if(typeof X!="function"){if(!X.handleEvent)return c.apply(this,arguments);$=!0}if(W&&!W(c,X,x,arguments))return;const Se=!!he&&he.indexOf(H)!==-1,le=p(se(arguments[2],Se)),be=le==null?void 0:le.signal;if(be!=null&&be.aborted)return;if(Te){for(let _e=0;_e<Te.length;_e++)if(H===Te[_e])return Se?c.call(x,H,X,le):c.apply(this,arguments)}const nt=le?typeof le=="boolean"?!0:le.capture:!1,wt=le&&typeof le=="object"?le.once:!1,un=Zone.current;let rt=ae[H];rt||(Tt(H,K),rt=ae[H]);const Ct=rt[nt?pe:ge];let Ne=x[Ct],Pt=!1;if(Ne){if(Pt=!0,ne){for(let _e=0;_e<Ne.length;_e++)if(ye(Ne[_e],X))return}}else Ne=x[Ct]=[];let Ue;const Dt=x.constructor.name,Rt=mt[Dt];Rt&&(Ue=Rt[H]),Ue||(Ue=Dt+d+(K?K(H):H)),Z.options=le,wt&&(Z.options.once=!1),Z.target=x,Z.capture=nt,Z.eventName=H,Z.isExisting=Pt;const Ze=G?Xt:void 0;Ze&&(Ze.taskData=Z),be&&(Z.options.signal=void 0);const fe=un.scheduleEventTask(Ue,X,Ze,P,R);if(be){Z.options.signal=be;const _e=()=>fe.zone.cancelTask(fe);c.call(be,"abort",_e,{once:!0}),fe.removeAbortListener=()=>be.removeEventListener("abort",_e)}if(Z.target=null,Ze&&(Ze.taskData=null),wt&&(Z.options.once=!0),typeof fe.options!="boolean"&&(fe.options=le),fe.target=x,fe.capture=nt,fe.eventName=H,$&&(fe.originalDelegate=X),j?Ne.unshift(fe):Ne.push(fe),k)return x}};return S[l]=h(O,I,z,q,Y),Q&&(S[y]=h(Q,N,o,q,Y,!0)),S[f]=function(){const c=this||t;let d=arguments[0];m&&m.transferEventName&&(d=m.transferEventName(d));const P=arguments[2],R=P?typeof P=="boolean"?!0:P.capture:!1,k=arguments[1];if(!k)return D.apply(this,arguments);if(W&&!W(D,k,c,arguments))return;const j=ae[d];let x;j&&(x=j[R?pe:ge]);const H=x&&c[x];if(H)for(let X=0;X<H.length;X++){const $=H[X];if(ye($,k)){if(H.splice(X,1),$.isRemoved=!0,H.length===0&&($.allRemoved=!0,c[x]=null,!R&&typeof d=="string")){const Se=Ie+"ON_PROPERTY"+d;c[Se]=null}return $.zone.cancelTask($),Y?c:void 0}}return D.apply(this,arguments)},S[T]=function(){const c=this||t;let d=arguments[0];m&&m.transferEventName&&(d=m.transferEventName(d));const P=[],R=kt(c,K?K(d):d);for(let k=0;k<R.length;k++){const j=R[k];let x=j.originalDelegate?j.originalDelegate:j.callback;P.push(x)}return P},S[v]=function(){const c=this||t;let d=arguments[0];if(d){m&&m.transferEventName&&(d=m.transferEventName(d));const P=ae[d];if(P){const R=P[ge],k=P[pe],j=c[R],x=c[k];if(j){const H=j.slice();for(let X=0;X<H.length;X++){const $=H[X];let Se=$.originalDelegate?$.originalDelegate:$.callback;this[f].call(this,d,Se,$.options)}}if(x){const H=x.slice();for(let X=0;X<H.length;X++){const $=H[X];let Se=$.originalDelegate?$.originalDelegate:$.callback;this[f].call(this,d,Se,$.options)}}}}else{const P=Object.keys(c);for(let R=0;R<P.length;R++){const k=P[R],j=Et.exec(k);let x=j&&j[1];x&&x!=="removeListener"&&this[v].call(this,x)}this[v].call(this,"removeListener")}if(Y)return this},Ee(S[l],O),Ee(S[f],D),ce&&Ee(S[v],ce),M&&Ee(S[T],M),!0}let te=[];for(let C=0;C<u.length;C++)te[C]=ie(u[C],n);return te}function kt(t,r){if(!r){const f=[];for(let T in t){const v=Et.exec(T);let b=v&&v[1];if(b&&(!r||b===r)){const I=t[T];if(I)for(let y=0;y<I.length;y++)f.push(I[y])}}return f}let u=ae[r];u||(Tt(r),u=ae[r]);const n=t[u[ge]],l=t[u[pe]];return n?l?n.concat(l):n.slice():l?l.slice():[]}function Jt(t,r){const u=t.Event;u&&u.prototype&&r.patchMethod(u.prototype,"stopImmediatePropagation",n=>function(l,f){l[yt]=!0,n&&n.apply(l,f)})}function Kt(t,r){r.patchMethod(t,"queueMicrotask",u=>function(n,l){Zone.current.scheduleMicroTask("queueMicrotask",l[0])})}const Fe=F("zoneTask");function Re(t,r,u,n){let l=null,f=null;r+=n,u+=n;const T={};function v(I){const y=I.data;y.args[0]=function(){return I.invoke.apply(this,arguments)};const N=l.apply(t,y.args);return gt(N)?y.handleId=N:(y.handle=N,y.isRefreshable=pt(N.refresh)),I}function b(I){const{handle:y,handleId:N}=I.data;return f.call(t,y??N)}l=me(t,r,I=>function(y,N){if(pt(N[0])){const A={isRefreshable:!1,isPeriodic:n==="Interval",delay:n==="Timeout"||n==="Interval"?N[1]||0:void 0,args:N},U=N[0];N[0]=function(){try{return U.apply(this,arguments)}finally{const{handle:G,handleId:W,isPeriodic:ne,isRefreshable:Y}=A;!ne&&!Y&&(W?delete T[W]:G&&(G[Fe]=null))}};const J=Je(r,N[0],A,v,b);if(!J)return J;const{handleId:oe,handle:ie,isRefreshable:te,isPeriodic:C}=J.data;if(oe)T[oe]=J;else if(ie&&(ie[Fe]=J,te&&!C)){const m=ie.refresh;ie.refresh=function(){const{zone:G,state:W}=J;return W==="notScheduled"?(J._state="scheduled",G._updateTaskCount(J,1)):W==="running"&&(J._state="scheduling"),m.call(this)}}return ie??oe??J}else return I.apply(t,N)}),f=me(t,u,I=>function(y,N){const A=N[0];let U;gt(A)?(U=T[A],delete T[A]):(U=A==null?void 0:A[Fe],U?A[Fe]=null:U=A),U!=null&&U.type?U.cancelFn&&U.zone.cancelTask(U):I.apply(t,N)})}function Qt(t,r){const{isBrowser:u,isMix:n}=r.getGlobalObjects();if(!u&&!n||!t.customElements||!("customElements"in t))return;const l=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];r.patchCallbacks(r,t.customElements,"customElements","define",l)}function en(t,r){if(Zone[r.symbol("patchEventTarget")])return;const{eventNames:u,zoneSymbolEventNames:n,TRUE_STR:l,FALSE_STR:f,ZONE_SYMBOL_PREFIX:T}=r.getGlobalObjects();for(let b=0;b<u.length;b++){const I=u[b],y=I+f,N=I+l,A=T+y,U=T+N;n[I]={},n[I][f]=A,n[I][l]=U}const v=t.EventTarget;if(!(!v||!v.prototype))return r.patchEventTarget(t,r,[v&&v.prototype]),!0}function tn(t,r){r.patchEventPrototype(t,r)}function vt(t,r,u){if(!u||u.length===0)return r;const n=u.filter(f=>f.target===t);if(n.length===0)return r;const l=n[0].ignoreProperties;return r.filter(f=>l.indexOf(f)===-1)}function St(t,r,u,n){if(!t)return;const l=vt(t,r,u);dt(t,l,n)}function tt(t){return Object.getOwnPropertyNames(t).filter(r=>r.startsWith("on")&&r.length>2).map(r=>r.substring(2))}function nn(t,r){if(qe&&!ut||Zone[t.symbol("patchEvents")])return;const u=r.__Zone_ignore_on_properties;let n=[];if(Qe){const l=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const f=[];St(l,tt(l),u&&u.concat(f),ee(l))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let l=0;l<n.length;l++){const f=r[n[l]];f!=null&&f.prototype&&St(f.prototype,tt(f.prototype),u)}}function rn(t){t.__load_patch("legacy",r=>{const u=r[t.__symbol__("legacyPatch")];u&&u()}),t.__load_patch("timers",r=>{const n="clear";Re(r,"set",n,"Timeout"),Re(r,"set",n,"Interval"),Re(r,"set",n,"Immediate")}),t.__load_patch("requestAnimationFrame",r=>{Re(r,"request","cancel","AnimationFrame"),Re(r,"mozRequest","mozCancel","AnimationFrame"),Re(r,"webkitRequest","webkitCancel","AnimationFrame")}),t.__load_patch("blocking",(r,u)=>{const n=["alert","prompt","confirm"];for(let l=0;l<n.length;l++){const f=n[l];me(r,f,(T,v,b)=>function(I,y){return u.current.run(T,r,y,b)})}}),t.__load_patch("EventTarget",(r,u,n)=>{tn(r,n),en(r,n);const l=r.XMLHttpRequestEventTarget;l&&l.prototype&&n.patchEventTarget(r,n,[l.prototype])}),t.__load_patch("MutationObserver",(r,u,n)=>{Ae("MutationObserver"),Ae("WebKitMutationObserver")}),t.__load_patch("IntersectionObserver",(r,u,n)=>{Ae("IntersectionObserver")}),t.__load_patch("FileReader",(r,u,n)=>{Ae("FileReader")}),t.__load_patch("on_property",(r,u,n)=>{nn(n,r)}),t.__load_patch("customElements",(r,u,n)=>{Qt(r,n)}),t.__load_patch("XHR",(r,u)=>{I(r);const n=F("xhrTask"),l=F("xhrSync"),f=F("xhrListener"),T=F("xhrScheduled"),v=F("xhrURL"),b=F("xhrErrorBeforeScheduled");function I(y){const N=y.XMLHttpRequest;if(!N)return;const A=N.prototype;function U(O){return O[n]}let J=A[De],oe=A[Xe];if(!J){const O=y.XMLHttpRequestEventTarget;if(O){const D=O.prototype;J=D[De],oe=D[Xe]}}const ie="readystatechange",te="scheduled";function C(O){const D=O.data,M=D.target;M[T]=!1,M[b]=!1;const ce=M[f];J||(J=M[De],oe=M[Xe]),ce&&oe.call(M,ie,ce);const Q=M[f]=()=>{if(M.readyState===M.DONE)if(!D.aborted&&M[T]&&O.state===te){const V=M[u.__symbol__("loadfalse")];if(M.status!==0&&V&&V.length>0){const a=O.invoke;O.invoke=function(){const i=M[u.__symbol__("loadfalse")];for(let o=0;o<i.length;o++)i[o]===O&&i.splice(o,1);!D.aborted&&O.state===te&&a.call(O)},V.push(O)}else O.invoke()}else!D.aborted&&M[T]===!1&&(M[b]=!0)};return J.call(M,ie,Q),M[n]||(M[n]=O),K.apply(M,D.args),M[T]=!0,O}function m(){}function G(O){const D=O.data;return D.aborted=!0,Z.apply(D.target,D.args)}const W=me(A,"open",()=>function(O,D){return O[l]=D[2]==!1,O[v]=D[1],W.apply(O,D)}),ne="XMLHttpRequest.send",Y=F("fetchTaskAborting"),S=F("fetchTaskScheduling"),K=me(A,"send",()=>function(O,D){if(u.current[S]===!0||O[l])return K.apply(O,D);{const M={target:O,url:O[v],isPeriodic:!1,args:D,aborted:!1},ce=Je(ne,m,M,C,G);O&&O[b]===!0&&!M.aborted&&ce.state===te&&ce.invoke()}}),Z=me(A,"abort",()=>function(O,D){const M=U(O);if(M&&typeof M.type=="string"){if(M.cancelFn==null||M.data&&M.data.aborted)return;M.zone.cancelTask(M)}else if(u.current[Y]===!0)return Z.apply(O,D)})}}),t.__load_patch("geolocation",r=>{r.navigator&&r.navigator.geolocation&&Vt(r.navigator.geolocation,["getCurrentPosition","watchPosition"])}),t.__load_patch("PromiseRejectionEvent",(r,u)=>{function n(l){return function(f){kt(r,l).forEach(v=>{const b=r.PromiseRejectionEvent;if(b){const I=new b(l,{promise:f.promise,reason:f.rejection});v.invoke(I)}})}}r.PromiseRejectionEvent&&(u[F("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),u[F("rejectionHandledHandler")]=n("rejectionhandled"))}),t.__load_patch("queueMicrotask",(r,u,n)=>{Kt(r,n)})}function sn(t){t.__load_patch("ZoneAwarePromise",(r,u,n)=>{const l=Object.getOwnPropertyDescriptor,f=Object.defineProperty;function T(p){if(p&&p.toString===Object.prototype.toString){const h=p.constructor&&p.constructor.name;return(h||"")+": "+JSON.stringify(p)}return p?p.toString():Object.prototype.toString.call(p)}const v=n.symbol,b=[],I=r[v("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,y=v("Promise"),N=v("then"),A="__creationTrace__";n.onUnhandledError=p=>{if(n.showUncaughtError()){const h=p&&p.rejection;h?console.error("Unhandled Promise rejection:",h instanceof Error?h.message:h,"; Zone:",p.zone.name,"; Task:",p.task&&p.task.source,"; Value:",h,h instanceof Error?h.stack:void 0):console.error(p)}},n.microtaskDrainDone=()=>{for(;b.length;){const p=b.shift();try{p.zone.runGuarded(()=>{throw p.throwOriginal?p.rejection:p})}catch(h){J(h)}}};const U=v("unhandledPromiseRejectionHandler");function J(p){n.onUnhandledError(p);try{const h=u[U];typeof h=="function"&&h.call(this,p)}catch{}}function oe(p){return p&&typeof p.then=="function"}function ie(p){return p}function te(p){return q.reject(p)}const C=v("state"),m=v("value"),G=v("finally"),W=v("parentPromiseValue"),ne=v("parentPromiseState"),Y="Promise.then",S=null,K=!0,Z=!1,O=0;function D(p,h){return c=>{try{se(p,h,c)}catch(d){se(p,!1,d)}}}const M=function(){let p=!1;return function(c){return function(){p||(p=!0,c.apply(null,arguments))}}},ce="Promise resolved with itself",Q=v("currentTaskTrace");function se(p,h,c){const d=M();if(p===c)throw new TypeError(ce);if(p[C]===S){let P=null;try{(typeof c=="object"||typeof c=="function")&&(P=c&&c.then)}catch(R){return d(()=>{se(p,!1,R)})(),p}if(h!==Z&&c instanceof q&&c.hasOwnProperty(C)&&c.hasOwnProperty(m)&&c[C]!==S)a(c),se(p,c[C],c[m]);else if(h!==Z&&typeof P=="function")try{P.call(c,d(D(p,h)),d(D(p,!1)))}catch(R){d(()=>{se(p,!1,R)})()}else{p[C]=h;const R=p[m];if(p[m]=c,p[G]===G&&h===K&&(p[C]=p[ne],p[m]=p[W]),h===Z&&c instanceof Error){const k=u.currentTask&&u.currentTask.data&&u.currentTask.data[A];k&&f(c,Q,{configurable:!0,enumerable:!1,writable:!0,value:k})}for(let k=0;k<R.length;)i(p,R[k++],R[k++],R[k++],R[k++]);if(R.length==0&&h==Z){p[C]=O;let k=c;try{throw new Error("Uncaught (in promise): "+T(c)+(c&&c.stack?`
`+c.stack:""))}catch(j){k=j}I&&(k.throwOriginal=!0),k.rejection=c,k.promise=p,k.zone=u.current,k.task=u.currentTask,b.push(k),n.scheduleMicroTask()}}}return p}const V=v("rejectionHandledHandler");function a(p){if(p[C]===O){try{const h=u[V];h&&typeof h=="function"&&h.call(this,{rejection:p[m],promise:p})}catch{}p[C]=Z;for(let h=0;h<b.length;h++)p===b[h].promise&&b.splice(h,1)}}function i(p,h,c,d,P){a(p);const R=p[C],k=R?typeof d=="function"?d:ie:typeof P=="function"?P:te;h.scheduleMicroTask(Y,()=>{try{const j=p[m],x=!!c&&G===c[G];x&&(c[W]=j,c[ne]=R);const H=h.run(k,void 0,x&&k!==te&&k!==ie?[]:[j]);se(c,!0,H)}catch(j){se(c,!1,j)}},c)}const o="function ZoneAwarePromise() { [native code] }",w=function(){},z=r.AggregateError;class q{static toString(){return o}static resolve(h){return h instanceof q?h:se(new this(null),K,h)}static reject(h){return se(new this(null),Z,h)}static withResolvers(){const h={};return h.promise=new q((c,d)=>{h.resolve=c,h.reject=d}),h}static any(h){if(!h||typeof h[Symbol.iterator]!="function")return Promise.reject(new z([],"All promises were rejected"));const c=[];let d=0;try{for(let k of h)d++,c.push(q.resolve(k))}catch{return Promise.reject(new z([],"All promises were rejected"))}if(d===0)return Promise.reject(new z([],"All promises were rejected"));let P=!1;const R=[];return new q((k,j)=>{for(let x=0;x<c.length;x++)c[x].then(H=>{P||(P=!0,k(H))},H=>{R.push(H),d--,d===0&&(P=!0,j(new z(R,"All promises were rejected")))})})}static race(h){let c,d,P=new this((j,x)=>{c=j,d=x});function R(j){c(j)}function k(j){d(j)}for(let j of h)oe(j)||(j=this.resolve(j)),j.then(R,k);return P}static all(h){return q.allWithCallback(h)}static allSettled(h){return(this&&this.prototype instanceof q?this:q).allWithCallback(h,{thenCallback:d=>({status:"fulfilled",value:d}),errorCallback:d=>({status:"rejected",reason:d})})}static allWithCallback(h,c){let d,P,R=new this((H,X)=>{d=H,P=X}),k=2,j=0;const x=[];for(let H of h){oe(H)||(H=this.resolve(H));const X=j;try{H.then($=>{x[X]=c?c.thenCallback($):$,k--,k===0&&d(x)},$=>{c?(x[X]=c.errorCallback($),k--,k===0&&d(x)):P($)})}catch($){P($)}k++,j++}return k-=2,k===0&&d(x),R}constructor(h){const c=this;if(!(c instanceof q))throw new Error("Must be an instanceof Promise.");c[C]=S,c[m]=[];try{const d=M();h&&h(d(D(c,K)),d(D(c,Z)))}catch(d){se(c,!1,d)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return q}then(h,c){var k;let d=(k=this.constructor)==null?void 0:k[Symbol.species];(!d||typeof d!="function")&&(d=this.constructor||q);const P=new d(w),R=u.current;return this[C]==S?this[m].push(R,P,h,c):i(this,R,P,h,c),P}catch(h){return this.then(null,h)}finally(h){var R;let c=(R=this.constructor)==null?void 0:R[Symbol.species];(!c||typeof c!="function")&&(c=q);const d=new c(w);d[G]=G;const P=u.current;return this[C]==S?this[m].push(P,d,h,h):i(this,P,d,h,h),d}}q.resolve=q.resolve,q.reject=q.reject,q.race=q.race,q.all=q.all;const de=r[y]=r.Promise;r.Promise=q;const ye=v("thenPatched");function Te(p){const h=p.prototype,c=l(h,"then");if(c&&(c.writable===!1||!c.configurable))return;const d=h.then;h[N]=d,p.prototype.then=function(P,R){return new q((j,x)=>{d.call(this,j,x)}).then(P,R)},p[ye]=!0}n.patchThen=Te;function he(p){return function(h,c){let d=p.apply(h,c);if(d instanceof q)return d;let P=d.constructor;return P[ye]||Te(P),d}}return de&&(Te(de),me(r,"fetch",p=>he(p))),Promise[u.__symbol__("uncaughtPromiseErrors")]=b,q})}function on(t){t.__load_patch("toString",r=>{const u=Function.prototype.toString,n=F("OriginalDelegate"),l=F("Promise"),f=F("Error"),T=function(){if(typeof this=="function"){const y=this[n];if(y)return typeof y=="function"?u.call(y):Object.prototype.toString.call(y);if(this===Promise){const N=r[l];if(N)return u.call(N)}if(this===Error){const N=r[f];if(N)return u.call(N)}}return u.call(this)};T[n]=u,Function.prototype.toString=T;const v=Object.prototype.toString,b="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?b:v.call(this)}})}function cn(t,r,u,n,l){const f=Zone.__symbol__(n);if(r[f])return;const T=r[f]=r[n];r[n]=function(v,b,I){return b&&b.prototype&&l.forEach(function(y){const N=`${u}.${n}::`+y,A=b.prototype;try{if(A.hasOwnProperty(y)){const U=t.ObjectGetOwnPropertyDescriptor(A,y);U&&U.value?(U.value=t.wrapWithCurrentZone(U.value,N),t._redefineProperty(b.prototype,y,U)):A[y]&&(A[y]=t.wrapWithCurrentZone(A[y],N))}else A[y]&&(A[y]=t.wrapWithCurrentZone(A[y],N))}catch{}}),T.call(r,v,b,I)},t.attachOriginToPatched(r[n],T)}function an(t){t.__load_patch("util",(r,u,n)=>{const l=tt(r);n.patchOnProperties=dt,n.patchMethod=me,n.bindArguments=Ke,n.patchMacroTask=Wt;const f=u.__symbol__("BLACK_LISTED_EVENTS"),T=u.__symbol__("UNPATCHED_EVENTS");r[T]&&(r[f]=r[T]),r[f]&&(u[f]=u[T]=r[f]),n.patchEventPrototype=Jt,n.patchEventTarget=$t,n.isIEOrEdge=Yt,n.ObjectDefineProperty=B,n.ObjectGetOwnPropertyDescriptor=g,n.ObjectCreate=we,n.ArraySlice=Ce,n.patchClass=Ae,n.wrapWithCurrentZone=$e,n.filterProperties=vt,n.attachOriginToPatched=Ee,n._redefineProperty=Object.defineProperty,n.patchCallbacks=cn,n.getGlobalObjects=()=>({globalSources:mt,zoneSymbolEventNames:ae,eventNames:l,isBrowser:Qe,isMix:ut,isNode:qe,TRUE_STR:pe,FALSE_STR:ge,ZONE_SYMBOL_PREFIX:Ie,ADD_EVENT_LISTENER_STR:ve,REMOVE_EVENT_LISTENER_STR:Pe})})}function ln(t){sn(t),on(t),an(t)}const bt=E();return ln(bt),rn(bt),jt}In();const Mn="http://localhost:3000";let Ve=[];async function We(s,e={}){const _=await fetch(`${Mn}${s}`,{...e,headers:{"Content-Type":"application/json",...e.headers??{}}}),E=await _.text();let g=E;try{g=JSON.parse(E)}catch{}return{ok:_.ok,status:_.status,data:g,requestId:_.headers.get("x-request-id"),traceparent:_.headers.get("traceparent")}}function Ye(s){Ve=[s,...Ve].slice(0,6),Hn()}async function An(){try{const s=await We("/health");document.querySelector(".health-status").textContent=s.ok?"healthy":"unhealthy",Ye(s)}catch(s){ze(s)}}async function Zn(){try{const s=Number(document.querySelector(".file-id-input").value),e=await We("/v1/download/check",{method:"POST",body:JSON.stringify({file_id:s})});Ye(e)}catch(s){ze(s)}}async function jn(){try{const s=Number(document.querySelector(".file-id-input").value),e=await We("/v1/download/start",{method:"POST",body:JSON.stringify({file_id:s})});e.ok?document.querySelector(".job-message").textContent="Download started — watch Jaeger for traces.":document.querySelector(".job-message").textContent="Download failed — check Sentry/Jaeger.",Ye(e)}catch(s){ze(s)}}async function xn(){try{const s=Number(document.querySelector(".file-id-input").value),e=await We("/v1/download/check?sentry_test=true",{method:"POST",body:JSON.stringify({file_id:s})});Ye(e)}catch(s){ze(s)}}function Hn(){const s=document.querySelector(".log");if(s.innerHTML="",Ve.length===0){s.innerHTML='<p class="muted">No calls yet.</p>';return}Ve.forEach(e=>{const _=document.createElement("div");_.className="log-row";const E=document.createElement("div");E.className="log-meta";const g=document.createElement("span");if(g.className=e.ok?"pill pill-ok":"pill pill-err",g.textContent=e.status,E.appendChild(g),e.requestId){const ee=document.createElement("span");ee.className="pill",ee.textContent=`req: ${e.requestId}`,E.appendChild(ee)}if(e.traceparent){const ee=document.createElement("span");ee.className="pill",ee.textContent=`traceparent: ${e.traceparent}`,E.appendChild(ee)}_.appendChild(E);const B=document.createElement("pre");B.className="log-body",B.textContent=JSON.stringify(e.data,null,2),_.appendChild(B),s.appendChild(_)})}document.addEventListener("DOMContentLoaded",()=>{document.querySelector(".btn-health").addEventListener("click",An),document.querySelector(".btn-check").addEventListener("click",Zn),document.querySelector(".btn-start").addEventListener("click",jn),document.querySelector(".btn-sentry").addEventListener("click",xn)});
